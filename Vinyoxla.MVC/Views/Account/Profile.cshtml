@model AppUserVM

@{
    int no = 0;
}

<main id="myaccountmain">
    <div class="container">

        <div class="row all">
            <div class="col-lg-12 col-12 userinfo">
                <span class="balance">Balansınız: <span class="balanceamount">@Model.Balance</span> azn</span>
                <a asp-controller="Account" asp-action="TopUp">Balansı artirmaq</a>
            </div>

            <div class="forsort col-lg-12 col-12">
                <input autocomplete="off" name="search" maxlength="17" minlength="17" required
                       placeholder="Axtardığınız vin kod:" type="text" class="col-lg-7 col-12 search" id="search">
                <form action="" class="sortform col-lg-4-5 col-12">
                    <select name="showcount" id="showcount" class="showcount col-lg-4 col-4">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                        <option value="40">40</option>
                        <option value="50">50</option>
                    </select>
                    <select name="sortbydate" id="sortbydate" class="col-lg-7-5 col-7 sortbydate">
                        <option value="1">Əvvəlcə yeni</option>
                        <option value="2">Əvvəlcə köhnə</option>
                    </select>
                </form>
            </div>
            @if (Model.AppUserToVincodes.Count > 0)
            {
                <table class="table table-striped col-lg-12 col-12">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Tarix</th>
                            <th scope="col">Vin Kod</th>
                            <th scope="col">Report</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.AppUserToVincodes)
                        {
                            no++;
                            <tr>
                                <td scope="row">@no</td>
                                <td>@item.CreatedAt.GetValueOrDefault().ToString("dd/MM/yyyy")</td>
                                <td>@item.VinCode.Vin</td>
                                <td>
                                    <a asp-controller="Report" asp-action="Index" asp-route-fileName="@item.VinCode.FileName">Baxmaq</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

                <nav>
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1">Geri</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">Növbəti</a>
                        </li>
                    </ul>
                </nav>
            }

        </div>
        @if (Model.AppUserToVincodes.Count <= 0)
        {
            <div class="row ifnopurchases mt-5">
                <p class="col-lg-12 col-12">Sizin aldığınız VİN kod mövcud deyil.</p>
            </div>
        }
    </div>
</main>

